# Data files of the OpenIO model builder
The model builder expects to find files in a defined format in a data folder. 
Also, the files that are generated by the model builder are located in this 
folder. These files are stored in a simple CSV format so that they can be 
directly opened with MS Excel or other spreadsheet software. The layout of the 
data folder and the format of the files are described in the following. 

## The data folder
All files that are input or output of the model builder are stored in a single 
folder `data`. This folder contains a sub-folder for each module:

    + data
      + economic
      + satellite
      ...      

Each module folder contains a set of CSV files where names of files that are 
input to the model builder start with an `i_` and files that are generated start
with an `o_`:

    + data
      - economic
        i_sectors.csv
        i_make_table.csv
        i_use_table.csv
        i_value_added_sectors.csv
        o_direct_requirements.csv
        o_direct_requirements_coefficients.csv
        ...
        
The sub-folders of the `data` folder that start with an `x_` contain the 
generated data packages for import in other tools (e.g. `x_jsonld` contains
the JSON-LD data that can be imported into openLCA or the LCA-Harmonization Tool).

## Basic file format
All data is stored in simple CSV files with the following properties:

* Commas (`,`) are used as column separators
* Character strings have to be enclosed in double quotes (`"`) if they contain 
  a comma or multiple lines. In other cases the quoting is optional.
* Numbers or boolean values (true, false) are never enclosed in quotes. The
  decimal separator is a point (`.`).
* Leading and trailing whitespaces are ignored
* The file encoding is UTF-8 with Windows line endings (`CR` `LF`)

## Matrix files
A dense and sparse CSV format is allowed to store matrix data. The model builder
can handle both formats but the dense format is used by default as it is easier
to explore files in this format in Excel or other spreadsheet software. In the
matrix files the rows and columns are identified by string identifiers instead 
of integer numbers. These identifiers are readable short names of the content 
(e.g. `1113A0 - Fruit farming`) and are used to link data between different 
data tables. 

### The dense matrix format
The following table shows sample data in the dense matrix format:
 
             , sector A , sector B , sector C , Scrap
    sector A ,      300 ,      25  ,        0 ,     3
    sector B ,       30 ,     360  ,       20 ,     2
    sector C ,        0 ,      15  ,      250 ,     0

As described above rows and columns are identified by readable short names 
(`sector A`, `sector B`, etc.). The order of the rows and columns in dense
matrix files does not matter as the values are identified by their row and 
column identifier. The top-left cell of the file has to be empty because this
is how the dense matrix format is distinguished from a sparse matrix format
when reading a matrix file.

### The sparse matrix format
The following table shows the same data as above but in the sparse matrix format:

    sector A , sector A , 300
    sector A , sector B ,  25
    sector A , Scrap    ,   3
    sector B , sector A ,  30
    sector B , sector B , 360
    sector B , sector C ,  20
    sector B , Scrap    ,   2
    sector C , sector B ,  15
    sector C , sector C , 250

The first column contains the row identifiers, the second the column identifiers,
and the third column contains the values. The order of the rows does not matter.

## Meta-data files
Meta-data files describe entities like industry sectors, substances, or LCIA
categories with additional attributes. The first row in a meta-data file 
contains the column headers and can contain any content that describe the
respective column. The first column contains the identifier of the entity as
it is used in the other data tables, e.g.:

    sector ID , process name  , process uuid , ...
    sector A  , Grain farming , 764c14f3-... , ...
    sector B  , Fruit farming , 11a531e6-... , ...
